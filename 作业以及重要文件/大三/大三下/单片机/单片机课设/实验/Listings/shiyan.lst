C51 COMPILER V9.54   SHIYAN                                                                06/16/2024 22:22:07 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE SHIYAN
OBJECT MODULE PLACED IN .\Objects\shiyan.obj
COMPILER INVOKED BY: E:\C51\C51\BIN\C51.EXE shiyan.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\shiyan
                    -.lst) TABS(2) OBJECT(.\Objects\shiyan.obj)

line level    source

   1          #include <reg51.h>
   2          #define uchar unsigned char
   3            #define uint unsigned int
   4          
   5          sbit sh_cp=P3^0;
   6          sbit ds=P3^1;
   7          sbit st_cp=P3^2;
   8          
   9          uchar num=6;
  10          uchar code tab[]={
  11          0x00,0x00,0x00,0xFF,0x00,0x01,0x3E,0x01,0x22,0x11,0x22,0x09,0x22,0x05,0xE2,0x03,
  12          0x22,0x05,0x22,0x09,0x22,0x11,0x3E,0x41,0x00,0x81,0x00,0x7F,0x00,0x00,0x00,0x00,/*"呙",0*/
  13          
  14          0x5E,0x00,0x50,0x7E,0x50,0x42,0x5F,0x22,0x50,0x22,0x50,0x12,0xDE,0x93,0x00,0x60,
  15          0xFE,0x1F,0x02,0x00,0x02,0x00,0xFE,0x3F,0x00,0x40,0x00,0x40,0x00,0x78,0x00,0x00,/*"凯",1*/
  16          
  17          0x20,0x01,0x10,0x01,0x2C,0x01,0xE7,0x7F,0x24,0x21,0x24,0x11,0x80,0x10,0x90,0x10,
  18          0x4C,0x15,0x57,0x15,0xA4,0xFF,0x54,0x15,0x4C,0x15,0x84,0x10,0x80,0x10,0x00,0x00,/*"锋",2*/
  19          
  20          0x00,0x00,0x00,0x06,0x80,0x05,0x40,0x24,0x30,0x24,0xF8,0x3F,0x00,0x24,0x00,0x24,/*"4",3*/
  21          
  22          0x00,0x00,0xE0,0x0F,0x10,0x10,0x08,0x20,0x08,0x20,0x10,0x10,0xE0,0x0F,0x00,0x00,/*"0",4*/
  23          
  24          0x00,0x00,0x70,0x1C,0x88,0x22,0x08,0x21,0x08,0x21,0x88,0x22,0x70,0x1C,0x00,0x00,/*"8",5*/
  25          
  26          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*" ",6*/
  27          
  28          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*" ",7*/
  29          
  30          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*" ",8*/
  31          };
  32          
  33          uchar code time[]={
  34          0x00,0x00,0x70,0x30,0x08,0x28,0x08,0x24,0x08,0x22,0x08,0x21,0xF0,0x30,0x00,0x00,/*"2",0*/
  35          
  36          0x00,0x00,0x00,0x06,0x80,0x05,0x40,0x24,0x30,0x24,0xF8,0x3F,0x00,0x24,0x00,0x24,/*"4",1*/
  37          
  38          0x00,0x00,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x00,/*"-",2*/
  39          
  40          0x00,0x00,0xE0,0x0F,0x10,0x10,0x08,0x20,0x08,0x20,0x10,0x10,0xE0,0x0F,0x00,0x00,/*"0",3*/
  41          
  42          0x00,0x00,0xE0,0x0F,0x10,0x11,0x88,0x20,0x88,0x20,0x90,0x20,0x00,0x1F,0x00,0x00,/*"6",4*/
  43          
  44          0x00,0x00,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x00,/*"-",5*/
  45          
  46          0x00,0x00,0xE0,0x0F,0x10,0x10,0x08,0x20,0x08,0x20,0x10,0x10,0xE0,0x0F,0x00,0x00,/*"0",6*/
  47          
  48          0x00,0x00,0x30,0x18,0x08,0x20,0x08,0x21,0x08,0x21,0x88,0x22,0x70,0x1C,0x00,0x00,/*"3",7*/
  49          
  50          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*" ",8*/
  51            
  52          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  53            
  54          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
C51 COMPILER V9.54   SHIYAN                                                                06/16/2024 22:22:07 PAGE 2   

  55          
  56          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  57          
  58          };
  59            
  60          void send(uchar dat595);
  61          void delay(uint n);
  62          void disp_word(uint k);
  63          void disp_time(uint i);
  64          
  65          main()
  66          {
  67   1         while(1)
  68   1         {
  69   2           if (P0^0==1)
  70   2           {  
  71   3           disp_word(0);
  72   3           }
  73   2           if(P0^0==0)
  74   2           {
  75   3             disp_time(0);
  76   3           }
  77   2         }
  78   1      }
  79          
  80          void send(uchar dat595)
  81          {
  82   1        uchar dat=dat595;
  83   1        uint i;
  84   1        for(i=0;i<8;i++)
  85   1        {
  86   2          dat<<=1;
  87   2          ds=CY;
  88   2          sh_cp=0;
  89   2          sh_cp=1;
  90   2        }
  91   1      }
  92          
  93          void delay(uint n)
  94          {
  95   1        uint i,j;
  96   1        for(i=0;i<n;i++)
  97   1          for(j=0;j<100;j++);
  98   1      }
  99          
 100          void disp_word(uint k)
 101          {
 102   1        uchar i,j,m,row;
 103   1        uint g;
 104   1        for(j=0;j<5;j++)
 105   1        {
 106   2          row=0x08;
 107   2          for(i=0;i<16;i++)
 108   2          {
 109   3            st_cp=0;
 110   3            for(m=6;m>0;m--)
 111   3            {
 112   4              g=2*i+k*2+m*32-32;
 113   4              send(tab[g+1]);
 114   4              send(tab[g]);
 115   4            }
 116   3            P1=row;
C51 COMPILER V9.54   SHIYAN                                                                06/16/2024 22:22:07 PAGE 3   

 117   3            row++;
 118   3            st_cp=1;
 119   3            delay(1);
 120   3          }
 121   2        }
 122   1      }
 123          
 124          void disp_time(uint k)
 125          {
 126   1        uchar i,j,m,row;
 127   1        uint g;
 128   1        for(j=0;j<5;j++)
 129   1        {
 130   2          row=0x08;
 131   2          for(i=0;i<16;i++)
 132   2          {
 133   3            st_cp=0;
 134   3            for(m=6;m>0;m--)
 135   3            {
 136   4              g=2*i+k*2+m*32-32;
 137   4              send(time[g+1]);
 138   4              send(time[g]);
 139   4            }
 140   3            P1=row;
 141   3            row++;
 142   3            st_cp=1;
 143   3            delay(1);
 144   3          }
 145   2        }
 146   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    303    ----
   CONSTANT SIZE    =    384    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      1      12
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
